import requests

# Enter your own API key
api_key = 'YOUR-API-KEY'                # API key for accessing the BlockCypher API


def get_balance(address):
    url = f'https://api.blockcypher.com/v1/btc/test3/addrs/{address}/balance?token={api_key}'       # Construct the URL to fetch balance information for the selected address

    try:
        response = requests.get(url)        # GET request
        response.raise_for_status()         # Check for errors in the response
        data = response.json()              # Extract JSON data from the response
        return data                         # Return data
    except requests.exceptions.RequestException as e:
        print('Error: ', e)                 # Handle exceptions
        return None


def init(address):
    balance_b = get_balance(address)        # Fetch balance for the given address
    balance = balance_b['final_balance']    # Extract the final balance field, others are unnecessary
    return balance                          # Return the final balance
